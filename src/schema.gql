# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type User {
  _id: ID!
  created_at: DateTime
  updated_at: DateTime
  email: String!
  password: String!
  role: ROLES!
  profile: ID
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""User roles"""
enum ROLES {
  DEV
  OWNER
  GUEST
}

type Profile {
  _id: ID!
  created_at: DateTime
  updated_at: DateTime
  name: String!
  last_name: String!
  birth_date: DateTime!
  picture: String
}

type Post {
  _id: ID!
  created_at: DateTime
  updated_at: DateTime
  title: String!
  body: String!
  location: String!
  price: String!
  rating: Float!
  room_type: ROOM_TYPES!
  amenities: [String!]!
  isAvailable: Boolean!
  user: User!
}

"""Room types"""
enum ROOM_TYPES {
  ROOM
}

type UserSession {
  user: User!
  accessToken: String!
}

type PaginatedPosts {
  items: [Post!]!
  total: Int!
  page: Int!
  limit: Int!
  totalPages: Int!
}

type Query {
  findAll: [User!]!
  user(email: String!): User!
  login(auth: Authentication!): UserSession!
  profiles: [Profile!]!
  profile(id: Int!): Profile!
  posts(pagination: PaginationInput): PaginatedPosts!
  post(id: Int!): Post!
}

input Authentication {
  """User email"""
  email: String!

  """User password"""
  password: String!
}

input PaginationInput {
  page: Int! = 1
  limit: Int! = 10
}

type Mutation {
  createUser(createUserInput: CreateUserInput!): User!
  updateUser(updateUserInput: UpdateUserInput!): User!
  removeUser(id: Int!): User!
  createProfile(createProfileInput: CreateProfileInput!): Profile!
  updateProfile(updateProfileInput: UpdateProfileInput!): Profile!
  removeProfile(id: Int!): Profile!
  createPost(createPostInput: CreatePostInput!): Post!
  updatePost(updatePostInput: UpdatePostInput!): Post!
  removePost(id: Int!): Post!
}

input CreateUserInput {
  email: String!

  """User password"""
  password: String!

  """User role"""
  role: ROLES! = GUEST
}

input UpdateUserInput {
  email: String

  """User password"""
  password: String

  """User role"""
  role: ROLES = GUEST
  id: Int!
}

input CreateProfileInput {
  """Profile name"""
  name: String!

  """Profile last name"""
  last_name: String!

  """Profile birth date"""
  birth_date: DateTime!
  user: CreateUserInput!
}

input UpdateProfileInput {
  """Profile name"""
  name: String

  """Profile last name"""
  last_name: String

  """Profile birth date"""
  birth_date: DateTime
  user: CreateUserInput

  """Profile ID"""
  id: Int!
}

input CreatePostInput {
  """Post title"""
  title: String!

  """User ID"""
  user: String!

  """Post body"""
  body: String!

  """Post location"""
  location: String!

  """Post price"""
  price: String!

  """Post rating"""
  rating: Float!

  """Room type"""
  room_type: ROOM_TYPES!

  """Post amenities"""
  amenities: [String!]!

  """Post availability"""
  isAvailable: Boolean!
}

input UpdatePostInput {
  """Post title"""
  title: String

  """User ID"""
  user: String

  """Post body"""
  body: String

  """Post location"""
  location: String

  """Post price"""
  price: String

  """Post rating"""
  rating: Float

  """Room type"""
  room_type: ROOM_TYPES

  """Post amenities"""
  amenities: [String!]

  """Post availability"""
  isAvailable: Boolean
  id: Int!
}